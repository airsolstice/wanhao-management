{"ast":null,"code":"import \"antd/es/popconfirm/style/css\";\nimport _Popconfirm from \"antd/es/popconfirm\";\nimport \"antd/es/tooltip/style/css\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport \"antd/es/progress/style/css\";\nimport _Progress from \"antd/es/progress\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport _regeneratorRuntime from \"/Users/xueqinfan/fanfan-code-2020/wanhao-management/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/xueqinfan/fanfan-code-2020/wanhao-management/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"/Users/xueqinfan/fanfan-code-2020/wanhao-management/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/xueqinfan/fanfan-code-2020/wanhao-management/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/xueqinfan/fanfan-code-2020/wanhao-management/web/src/views/info/thing/index.js\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { SearchOutlined, DownloadOutlined } from \"@ant-design/icons\"; // import ConfigDialog from \"../comps/configDialog\";\n\nimport styles from \"./index.module.less\"; // import \"../index.less\";\n\nimport { Link } from \"react-router-dom\";\nimport LocalTab from \"components/runtime/localTab\";\nimport { envType } from \"store/runtime/constant\";\nimport api from \"api\";\nvar Search = _Input.Search;\n\nvar Thing = function Thing(props) {\n  var pageRef = useRef({\n    total: 0,\n    pageSize: 10,\n    current: 1\n  });\n  var sortRef = useRef({\n    order: \"desc\",\n    field: \"createtime\",\n    columnKey: \"createtime\"\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      keyword = _useState6[0],\n      setKeyword = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      downloading = _useState8[0],\n      setDownloading = _useState8[1];\n\n  var sortDic = {\n    descend: \"desc\",\n    ascend: \"asc\"\n  };\n  useEffect(function () {\n    getData();\n  }, []);\n\n  var getData = function getData() {\n    api.getStoreServiceList({\n      pageNo: pageRef.current.current,\n      pageSize: pageRef.current.pageSize,\n      orderField: sortRef.current.field,\n      orderType: sortRef.current.order,\n      serviceName: keyword\n    }).then(function (res) {\n      if (res.data.code === 200) {\n        pageRef.current = {\n          total: res.data.data.total,\n          pageSize: res.data.data.size,\n          current: res.data.data.current\n        };\n        setData(res.data.data.records);\n      }\n\n      setLoading(false);\n    });\n  };\n\n  var toDownload = function toDownload(data) {\n    setDownloading(true);\n    console.log(\"下载\");\n  };\n\n  var handleTableChange = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref, b, sortedInfo) {\n      var current, pageSize;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              current = _ref.current, pageSize = _ref.pageSize;\n\n              // console.log(current, pageSize, sortedInfo)\n              if (current && pageSize) {\n                pageRef.current = _objectSpread({}, pageRef.current, {\n                  pageSize: pageSize,\n                  current: current\n                });\n              }\n\n              if (sortedInfo) {\n                sortRef.current = {\n                  order: sortDic[sortedInfo.order],\n                  field: sortedInfo.field\n                };\n              }\n\n              getData();\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleTableChange(_x, _x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleSearchChange = function handleSearchChange(data) {\n    setKeyword(data);\n    pageRef.current = _objectSpread({}, pageRef.current, {\n      current: 1\n    });\n  };\n\n  var columns = getColumns(sortRef.current, downloading, {\n    toDownload: toDownload // toRun: toRun,\n\n  });\n  var customPagination = {\n    className: \"customPagination\",\n    total: pageRef.current.total,\n    showTotal: function showTotal(total) {\n      return \"\\u5171 \".concat(total, \" \\u6761\");\n    },\n    pageSize: pageRef.current.pageSize,\n    current: pageRef.current.current,\n    onChange: handleTableChange,\n    showSizeChanger: true,\n    onShowSizeChange: handleTableChange\n  };\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: styles.storeBox,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pageHead\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"\\u4E0B\\u8F7D\\u4E2D\\u5FC3\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pageContent\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"tit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"\\u670D\\u52A1\\u5217\\u8868\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBox\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    size: \"small\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u5173\\u952E\\u5B57\",\n    allowClear: true,\n    onChange: function onChange(e) {\n      return handleSearchChange(e.target.value);\n    },\n    onSearch: function onSearch() {\n      return getData();\n    },\n    style: {\n      width: 240\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ThingBox,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Table, {\n    onChange: handleTableChange,\n    pagination: customPagination,\n    columns: columns,\n    dataSource: data,\n    loading: loading,\n    rowKey: function rowKey(record, index) {\n      return record.id;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default React.memo(Thing);\n\nvar getColumns = function getColumns(sortedInfo, downloading, actions) {\n  var sotrDicReverse = {\n    desc: \"descend\",\n    asc: \"ascend\"\n  };\n  return [{\n    title: \"服务名称\",\n    dataIndex: \"name\",\n    width: 150,\n    ellipsis: true,\n    render: function render(text, record) {\n      return /*#__PURE__*/React.createElement(Link, {\n        to: \"/runtime/local/serviceDetail/\".concat(record.id),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }\n      }, text);\n    }\n  }, {\n    title: \"服务简介\",\n    dataIndex: \"desc\",\n    width: 200,\n    ellipsis: true\n  }, {\n    title: \"运行环境\",\n    dataIndex: \"envType\",\n    render: function render(text) {\n      return envType[text];\n    }\n  }, {\n    title: \"服务类型\",\n    dataIndex: \"envType\",\n    render: function render(text) {\n      return envType[text];\n    }\n  }, {\n    title: \"文件大小\",\n    dataIndex: \"size\",\n    sorter: true,\n    sortOrder: sortedInfo.field === \"size\" && sortedInfo.order ? sotrDicReverse[sortedInfo.order] : \"\"\n  }, {\n    title: \"发布者\",\n    dataIndex: \"isUse\",\n    sorter: true,\n    sortOrder: sortedInfo.field === \"isUse\" && sortedInfo.order ? sotrDicReverse[sortedInfo.order] : \"\",\n    render: function render(text, record) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 16\n        }\n      }, text === 0 ? \"是\" : \"否\");\n    }\n  }, {\n    title: \"最近更新时间\",\n    dataIndex: \"createtime\",\n    sorter: true,\n    sortOrder: sortedInfo.field === \"createtime\" && sortedInfo.order ? sotrDicReverse[sortedInfo.order] : \"\"\n  }, {\n    title: \"操作\",\n    fixed: \"right\",\n    render: function render(text, record, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"optIcon\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }\n      }, downloading ? /*#__PURE__*/React.createElement(_Progress, {\n        percent: 30,\n        size: \"small\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }\n      }) : /*#__PURE__*/React.createElement(_Popconfirm, {\n        placement: \"left\",\n        title: \"\\u8BF7\\u786E\\u8BA4\\u662F\\u5426\\u4E0B\\u8F7D \".concat(record.name),\n        onConfirm: function onConfirm() {\n          return actions.toDownload(record, index);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: \"\\u4E0B\\u8F7D\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(DownloadOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 19\n        }\n      }))));\n    }\n  }];\n}; // import React, { Component } from 'react';\n// import { Table, Tooltip, Icon } from 'antd';\n// class Thing extends Component {\n//     defaultSortOrder = {\n//         order: 'descend',\n//         field: 'name',\n//         columnKey: 'name'\n//     }\n//     state = {\n//         dataSource: [],\n//         loading: false,\n//         sortedInfo: this.defaultSortOrder,\n//         total:0,\n//         current: 1,\n//         pageSize: 10,\n//     }\n//     componentDidMount() {\n//         this.setState({\n//             loading: true\n//         })\n//         let _self = this;\n//         setTimeout(() => {   //setTimeout仅仅是为了显示loading效果，后续会通过ajax来代替;\n//             _self.getData();\n//         }, 2000)\n//     }\n//     getData = () => {\n//         // ajax.then( () => {\n//         //     ...\n//         // })\n//         this.setState({\n//             loading: false,\n//             dataSource: [\n//                 {\n//                     id: '1',\n//                     name: '枕套',\n//                     price: '$39.9',\n//                     unit: '件',\n//                 },\n//                 {\n//                     key: '2',\n//                     name: '毛巾',\n//                     price: '$19.9',\n//                     unit: '条',\n//                 },\n//             ]\n//         })\n//     }\n//     toEdit = (value) => {\n//         console.log('edit', value)\n//     }\n//     handlePageChange = (current, pageSize) => {\n//         this.setState({\n//             current: current,\n//             pageSize: pageSize\n//         }, () => {\n//             this.getData();\n//         })\n//     }\n//     sortChange = (a, b, sortedInfo) => {\n//         if (!sortedInfo.order) {\n//             if (sortedInfo.columnKey === this.defaultSortOrder.columnKey) {\n//                 sortedInfo.order = \"ascend\"\n//             }\n//         }\n//         this.defaultSortOrder = sortedInfo\n//         this.setState({\n//             sortedInfo: sortedInfo\n//         }, () => {\n//             this.getData();\n//         })\n//     }\n//     render() {\n//         const { dataSource, loading,total,pageSize,current ,sortedInfo} = this.state;\n//         const columns = getColums(sortedInfo,{\n//             toEdit: this.toEdit\n//         });\n//         const customPagination = {\n//             className: \"customPagination\",\n//             total: total,\n//             showTotal: total => `共 ${total} 条`,\n//             pageSize: pageSize,\n//             current: current,\n//             onChange: this.handlePageChange,\n//             showSizeChanger: true,\n//             onShowSizeChange: this.handlePageChange\n//         }\n//         return (\n//             <>\n//                 <Table dataSource={dataSource} columns={columns} loading={loading} pagination={customPagination} key={(record, index) => record.id} onChange={this.sortChange} />;\n//             </>\n//         )\n//     }\n// }\n// export default Thing;\n\n\nvar getColums = function getColums(sortedInfo, actions) {\n  return [{\n    title: '序号',\n    dataIndex: 'id',\n    key: 'id'\n  }, {\n    title: '名称',\n    dataIndex: 'name',\n    key: 'name',\n    sorter: true,\n    sortOrder: sortedInfo.columnKey === 'name' && sortedInfo.order\n  }, {\n    title: '单价',\n    dataIndex: 'price',\n    key: 'price',\n    sorter: true,\n    sortOrder: sortedInfo.columnKey === 'price' && sortedInfo.order\n  }, {\n    title: '单位',\n    dataIndex: 'unit',\n    key: 'unit'\n  }, {\n    title: '操作',\n    render: function render(record, text, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(_Popconfirm, {\n        placement: \"left\",\n        title: \"\\u8BF7\\u786E\\u8BA4\\u662F\\u5426\\u5220\\u9664 \".concat(record.name),\n        onConfirm: function onConfirm() {\n          return actions.toDownload(record, index);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: \"\\u5220\\u9664\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(DownloadOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(_Tooltip, {\n        title: \"\\u7F16\\u8F91\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        type: \"close\",\n        onClick: function onClick() {\n          return actions.toEdit(record);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(_Tooltip, {\n        title: \"\\u67E5\\u770B\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        type: \"close\",\n        onClick: function onClick() {\n          return actions.toEdit(record);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(_Tooltip, {\n        title: \"\\u65B0\\u589E\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        type: \"close\",\n        onClick: function onClick() {\n          return actions.toEdit(record);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 33\n        }\n      })));\n    }\n  }];\n};","map":{"version":3,"sources":["/Users/xueqinfan/fanfan-code-2020/wanhao-management/web/src/views/info/thing/index.js"],"names":["React","useState","useEffect","useRef","SearchOutlined","DownloadOutlined","styles","Link","LocalTab","envType","api","Search","Thing","props","pageRef","total","pageSize","current","sortRef","order","field","columnKey","data","setData","loading","setLoading","keyword","setKeyword","downloading","setDownloading","sortDic","descend","ascend","getData","getStoreServiceList","pageNo","orderField","orderType","serviceName","then","res","code","size","records","toDownload","console","log","handleTableChange","b","sortedInfo","handleSearchChange","columns","getColumns","customPagination","className","showTotal","onChange","showSizeChanger","onShowSizeChange","storeBox","title","e","target","value","width","ThingBox","record","index","id","memo","actions","sotrDicReverse","desc","asc","dataIndex","ellipsis","render","text","sorter","sortOrder","fixed","name","getColums","key","toEdit"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Table, Popconfirm, Tooltip, message, Input, Progress } from \"antd\";\nimport { SearchOutlined, DownloadOutlined } from \"@ant-design/icons\";\n// import ConfigDialog from \"../comps/configDialog\";\nimport styles from \"./index.module.less\";\n// import \"../index.less\";\nimport { Link } from \"react-router-dom\";\nimport LocalTab from \"components/runtime/localTab\";\nimport { envType } from \"store/runtime/constant\";\nimport api from \"api\";\nconst { Search } = Input;\nconst Thing = (props) => {\n  const pageRef = useRef({\n    total: 0,\n    pageSize: 10,\n    current: 1,\n  });\n  const sortRef = useRef({\n    order: \"desc\",\n    field: \"createtime\",\n    columnKey: \"createtime\",\n  });\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState({});\n  const [keyword, setKeyword] = useState();\n  const [downloading, setDownloading] = useState(false);\n  const sortDic = {\n    descend: \"desc\",\n    ascend: \"asc\",\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n  const getData = () => {\n    api\n      .getStoreServiceList({\n        pageNo: pageRef.current.current,\n        pageSize: pageRef.current.pageSize,\n        orderField: sortRef.current.field,\n        orderType: sortRef.current.order,\n        serviceName: keyword,\n      })\n      .then((res) => {\n        if (res.data.code === 200) {\n          pageRef.current = {\n            total: res.data.data.total,\n            pageSize: res.data.data.size,\n            current: res.data.data.current,\n          };\n          setData(res.data.data.records);\n        }\n        setLoading(false);\n      });\n  };\n  const toDownload = (data) => {\n    setDownloading(true);\n    console.log(\"下载\");\n  };\n  const handleTableChange = async ({ current, pageSize }, b, sortedInfo) => {\n    // console.log(current, pageSize, sortedInfo)\n    if (current && pageSize) {\n      pageRef.current = {\n        ...pageRef.current,\n        pageSize: pageSize,\n        current: current,\n      };\n    }\n    if (sortedInfo) {\n      sortRef.current = {\n        order: sortDic[sortedInfo.order],\n        field: sortedInfo.field,\n      };\n    }\n    getData();\n  };\n  const handleSearchChange = (data) => {\n    setKeyword(data);\n    pageRef.current = {\n      ...pageRef.current,\n      current: 1,\n    };\n  };\n  const columns = getColumns(sortRef.current, downloading, {\n    toDownload: toDownload,\n    // toRun: toRun,\n  });\n  const customPagination = {\n    className: \"customPagination\",\n    total: pageRef.current.total,\n    showTotal: (total) => `共 ${total} 条`,\n    pageSize: pageRef.current.pageSize,\n    current: pageRef.current.current,\n    onChange: handleTableChange,\n    showSizeChanger: true,\n    onShowSizeChange: handleTableChange,\n  };\n  return (\n    <section className={styles.storeBox}>\n      <div className=\"pageHead\">\n          下载中心\n      </div>\n      <div className=\"pageContent\">\n        <div className={styles.title}>\n          <span className=\"tit\">服务列表</span>\n          <div className=\"searchBox\">\n            <Search\n              size=\"small\"\n              placeholder=\"请输入搜索关键字\"\n              allowClear\n              onChange={(e) => handleSearchChange(e.target.value)}\n              onSearch={() => getData()}\n              style={{ width: 240 }}\n            />\n          </div>\n        </div>\n        <div className={styles.ThingBox}>\n          <Table\n            onChange={handleTableChange}\n            pagination={customPagination}\n            columns={columns}\n            dataSource={data}\n            loading={loading}\n            rowKey={(record, index) => record.id}\n          ></Table>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default React.memo(Thing);\n\nconst getColumns = (sortedInfo, downloading, actions) => {\n  const sotrDicReverse = {\n    desc: \"descend\",\n    asc: \"ascend\",\n  };\n  return [\n    {\n      title: \"服务名称\",\n      dataIndex: \"name\",\n      width: 150,\n      ellipsis: true,\n      render: (text, record) => {\n        return (\n          <Link to={`/runtime/local/serviceDetail/${record.id}`}>{text}</Link>\n        );\n      },\n    },\n    {\n      title: \"服务简介\",\n      dataIndex: \"desc\",\n      width: 200,\n      ellipsis: true,\n    },\n    {\n      title: \"运行环境\",\n      dataIndex: \"envType\",\n      render: (text) => {\n        return envType[text];\n      },\n    },\n    {\n      title: \"服务类型\",\n      dataIndex: \"envType\",\n      render: (text) => {\n        return envType[text];\n      },\n    },\n\n    {\n      title: \"文件大小\",\n      dataIndex: \"size\",\n      sorter: true,\n      sortOrder:\n        sortedInfo.field === \"size\" && sortedInfo.order\n          ? sotrDicReverse[sortedInfo.order]\n          : \"\",\n    },\n\n    {\n      title: \"发布者\",\n      dataIndex: \"isUse\",\n      sorter: true,\n      sortOrder:\n        sortedInfo.field === \"isUse\" && sortedInfo.order\n          ? sotrDicReverse[sortedInfo.order]\n          : \"\",\n      render: (text, record) => {\n        return <span>{text === 0 ? \"是\" : \"否\"}</span>;\n      },\n    },\n    {\n      title: \"最近更新时间\",\n      dataIndex: \"createtime\",\n      sorter: true,\n      sortOrder:\n        sortedInfo.field === \"createtime\" && sortedInfo.order\n          ? sotrDicReverse[sortedInfo.order]\n          : \"\",\n    },\n    {\n      title: \"操作\",\n      fixed: \"right\",\n      render: (text, record, index) => {\n        return (\n          <div className=\"optIcon\">\n            {downloading ? (\n              <Progress percent={30} size=\"small\" />\n            ) : (\n              <Popconfirm\n                placement=\"left\"\n                title={`请确认是否下载 ${record.name}`}\n                onConfirm={() => actions.toDownload(record, index)}\n              >\n                <Tooltip title=\"下载\">\n                  <DownloadOutlined />\n                </Tooltip>\n              </Popconfirm>\n            )}\n          </div>\n        );\n      },\n    },\n  ];\n};\n\n// import React, { Component } from 'react';\n// import { Table, Tooltip, Icon } from 'antd';\n// class Thing extends Component {\n//     defaultSortOrder = {\n//         order: 'descend',\n//         field: 'name',\n//         columnKey: 'name'\n//     }\n//     state = {\n//         dataSource: [],\n//         loading: false,\n//         sortedInfo: this.defaultSortOrder,\n//         total:0,\n//         current: 1,\n//         pageSize: 10,\n//     }\n//     componentDidMount() {\n//         this.setState({\n//             loading: true\n//         })\n//         let _self = this;\n//         setTimeout(() => {   //setTimeout仅仅是为了显示loading效果，后续会通过ajax来代替;\n//             _self.getData();\n//         }, 2000)\n\n//     }\n//     getData = () => {\n//         // ajax.then( () => {\n//         //     ...\n//         // })\n//         this.setState({\n//             loading: false,\n//             dataSource: [\n//                 {\n//                     id: '1',\n//                     name: '枕套',\n//                     price: '$39.9',\n//                     unit: '件',\n//                 },\n//                 {\n//                     key: '2',\n//                     name: '毛巾',\n//                     price: '$19.9',\n//                     unit: '条',\n//                 },\n//             ]\n//         })\n//     }\n//     toEdit = (value) => {\n//         console.log('edit', value)\n//     }\n//     handlePageChange = (current, pageSize) => {\n//         this.setState({\n//             current: current,\n//             pageSize: pageSize\n//         }, () => {\n//             this.getData();\n//         })\n//     }\n//     sortChange = (a, b, sortedInfo) => {\n//         if (!sortedInfo.order) {\n//             if (sortedInfo.columnKey === this.defaultSortOrder.columnKey) {\n//                 sortedInfo.order = \"ascend\"\n//             }\n//         }\n//         this.defaultSortOrder = sortedInfo\n//         this.setState({\n//             sortedInfo: sortedInfo\n//         }, () => {\n//             this.getData();\n//         })\n//     }\n//     render() {\n//         const { dataSource, loading,total,pageSize,current ,sortedInfo} = this.state;\n//         const columns = getColums(sortedInfo,{\n//             toEdit: this.toEdit\n//         });\n//         const customPagination = {\n//             className: \"customPagination\",\n//             total: total,\n//             showTotal: total => `共 ${total} 条`,\n//             pageSize: pageSize,\n//             current: current,\n//             onChange: this.handlePageChange,\n//             showSizeChanger: true,\n//             onShowSizeChange: this.handlePageChange\n//         }\n//         return (\n//             <>\n//                 <Table dataSource={dataSource} columns={columns} loading={loading} pagination={customPagination} key={(record, index) => record.id} onChange={this.sortChange} />;\n//             </>\n//         )\n//     }\n// }\n// export default Thing;\n\nconst getColums = (sortedInfo,actions) => {\n    return (\n        [\n            {\n                title: '序号',\n                dataIndex: 'id',\n                key: 'id',\n            },\n            {\n                title: '名称',\n                dataIndex: 'name',\n                key: 'name',\n                sorter: true,\n                sortOrder: sortedInfo.columnKey === 'name' && sortedInfo.order,\n            },\n            {\n                title: '单价',\n                dataIndex: 'price',\n                key: 'price',\n                sorter: true,\n                sortOrder: sortedInfo.columnKey === 'price' && sortedInfo.order,\n            },\n            {\n                title: '单位',\n                dataIndex: 'unit',\n                key: 'unit',\n            },\n            {\n                title: '操作',\n                render: (record, text,index) => {\n                    return (\n                        <div >\n                            <Popconfirm\n                                placement=\"left\"\n                                title={`请确认是否删除 ${record.name}`}\n                                onConfirm={() => actions.toDownload(record, index)}\n                            >\n                                <Tooltip title=\"删除\">\n                                <DownloadOutlined />\n                                </Tooltip>\n                            </Popconfirm>\n                            <Tooltip title='编辑' >\n                                <Icon type=\"close\" onClick={() => actions.toEdit(record)} />\n                            </Tooltip>\n                            <Tooltip title='查看' >\n                                <Icon type=\"close\" onClick={() => actions.toEdit(record)} />\n                            </Tooltip>\n                            <Tooltip title='新增' >\n                                <Icon type=\"close\" onClick={() => actions.toEdit(record)} />\n                            </Tooltip>\n                        </div>\n                        \n                    )\n                }\n            }\n        ]\n    )\n}\n"]},"metadata":{},"sourceType":"module"}