{"ast":null,"code":"import \"antd/es/notification/style/css\";\nimport _notification from \"antd/es/notification\";\nimport axios from \"./axios\";\n\nvar $http = function $http(url) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n  var data = arguments.length > 2 ? arguments[2] : undefined;\n  var config = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var _config = Object.assign({\n    url: url,\n    method: method,\n    data: data\n  }, config);\n\n  return axios(_config).then(function (res) {\n    if (res.status === 200) {\n      if (res.data.code === -1) {\n        _notification.error({\n          message: '出错啦',\n          description: res.data.msg\n        });\n\n        throw new Error(\"请求出错啦\");\n      }\n\n      return res;\n    }\n  });\n};\n\nexport default {\n  /*注册*/\n  signIn: function signIn(_ref) {\n    var username = _ref.username,\n        password = _ref.password;\n    return $http(\"/user/register\", \"POST\", {\n      username: username,\n      password: password\n    });\n  },\n\n  /*登录 */\n  login: function login(_ref2) {\n    var username = _ref2.username,\n        password = _ref2.password;\n    return $http(\"/user/login\", \"POST\", {\n      username: username,\n      password: password\n    });\n  },\n\n  /*登出 */\n  logout: function logout() {\n    return $http(\"/logout\", \"POST\");\n  },\n\n  /*上传文件 */\n  uploadCSV: function uploadCSV(file) {\n    return $http(\"/upload/csv\", \"POST\", {}, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      },\n      processData: false,\n      cache: false,\n      data: file\n    });\n  }\n};","map":{"version":3,"sources":["/Users/xueqinfan/fanfan-code-2020/wanhao-management/web/src/api/index.js"],"names":["axios","$http","url","method","data","config","_config","Object","assign","then","res","status","code","error","message","description","msg","Error","signIn","username","password","login","logout","uploadCSV","file","headers","processData","cache"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,SAAlB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,GAAD,EAA4C;AAAA,MAAtCC,MAAsC,uEAA7B,KAA6B;AAAA,MAAtBC,IAAsB;AAAA,MAAhBC,MAAgB,uEAAP,EAAO;;AACxD,MAAMC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc;AAAEN,IAAAA,GAAG,EAAHA,GAAF;AAAOC,IAAAA,MAAM,EAANA,MAAP;AAAeC,IAAAA,IAAI,EAAJA;AAAf,GAAd,EAAqCC,MAArC,CAAhB;;AACA,SAAOL,KAAK,CAACM,OAAD,CAAL,CAAeG,IAAf,CAAoB,UAAAC,GAAG,EAAI;AAChC,QAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,UAAID,GAAG,CAACN,IAAJ,CAASQ,IAAT,KAAkB,CAAC,CAAvB,EAA0B;AACxB,sBAAaC,KAAb,CAAmB;AACjBC,UAAAA,OAAO,EAAE,KADQ;AAEjBC,UAAAA,WAAW,EAAEL,GAAG,CAACN,IAAJ,CAASY;AAFL,SAAnB;;AAIA,cAAM,IAAIC,KAAJ,CAAU,OAAV,CAAN;AACD;;AACD,aAAOP,GAAP;AACD;AACF,GAXM,CAAP;AAYD,CAdD;;AAeA,eAAe;AACb;AACAQ,EAAAA,MAAM,EAAE;AAAA,QAAGC,QAAH,QAAGA,QAAH;AAAA,QAAaC,QAAb,QAAaA,QAAb;AAAA,WAA4BnB,KAAK,mBAAmB,MAAnB,EAA2B;AAAEkB,MAAAA,QAAQ,EAARA,QAAF;AAAYC,MAAAA,QAAQ,EAARA;AAAZ,KAA3B,CAAjC;AAAA,GAFK;;AAGb;AACAC,EAAAA,KAAK,EAAE;AAAA,QAAGF,QAAH,SAAGA,QAAH;AAAA,QAAaC,QAAb,SAAaA,QAAb;AAAA,WAA4BnB,KAAK,CAAC,aAAD,EAAgB,MAAhB,EAAwB;AAACkB,MAAAA,QAAQ,EAARA,QAAD;AAAUC,MAAAA,QAAQ,EAARA;AAAV,KAAxB,CAAjC;AAAA,GAJM;;AAKb;AACAE,EAAAA,MAAM,EAAE;AAAA,WAAMrB,KAAK,CAAC,SAAD,EAAY,MAAZ,CAAX;AAAA,GANK;;AAOb;AACAsB,EAAAA,SAAS,EAAE,mBAAAC,IAAI;AAAA,WAAIvB,KAAK,CACtB,aADsB,EAEtB,MAFsB,EAGtB,EAHsB,EAItB;AACEwB,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OADX;AAEEC,MAAAA,WAAW,EAAE,KAFf;AAGEC,MAAAA,KAAK,EAAE,KAHT;AAIEvB,MAAAA,IAAI,EAAEoB;AAJR,KAJsB,CAAT;AAAA;AARF,CAAf","sourcesContent":["import axios from \"./axios\";\nimport { notification } from 'antd';\nconst $http = (url, method = \"GET\", data, config = {}) => {\n  const _config = Object.assign({ url, method, data }, config);\n  return axios(_config).then(res => {\n    if (res.status === 200) {\n      if (res.data.code === -1) {\n        notification.error({\n          message: '出错啦',\n          description: res.data.msg\n        });\n        throw new Error(\"请求出错啦\");\n      }\n      return res;\n    }\n  });\n};\nexport default {\n  /*注册*/\n  signIn: ({ username, password }) => $http(`/user/register`, \"POST\", { username, password }),\n  /*登录 */\n  login: ({ username, password }) => $http(\"/user/login\", \"POST\", {username,password}),\n  /*登出 */\n  logout: () => $http(\"/logout\", \"POST\"),\n  /*上传文件 */\n  uploadCSV: file => $http(\n    \"/upload/csv\",\n    \"POST\",\n    {},\n    {\n      headers: { \"Content-Type\": \"multipart/form-data\" },\n      processData: false,\n      cache: false,\n      data: file\n    }\n  )\n};\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}