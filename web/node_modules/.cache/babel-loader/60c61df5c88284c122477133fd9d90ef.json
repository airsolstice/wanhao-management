{"ast":null,"code":"import \"antd/es/popconfirm/style/css\";\nimport _Popconfirm from \"antd/es/popconfirm\";\nimport \"antd/es/tooltip/style/css\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport _regeneratorRuntime from \"/Users/admin/Workspace/wanhao-management/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/admin/Workspace/wanhao-management/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"/Users/admin/Workspace/wanhao-management/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/admin/Workspace/wanhao-management/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/admin/Workspace/wanhao-management/web/src/views/info/employee/index.js\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { SearchOutlined, DeleteOutlined, EditOutlined, EyeOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport \"./index.less\";\nimport api from \"api\";\nvar Search = _Input.Search;\n\nvar Employee = function Employee(props) {\n  var pageRef = useRef({\n    total: 0,\n    pageSize: 10,\n    current: 1\n  });\n  var sortRef = useRef({\n    order: \"desc\",\n    field: \"id\",\n    columnKey: \"id\"\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      keyword = _useState6[0],\n      setKeyword = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      downloading = _useState8[0],\n      setDownloading = _useState8[1];\n\n  var sortDic = {\n    descend: \"desc\",\n    ascend: \"asc\"\n  };\n  useEffect(function () {\n    getData();\n  }, []);\n\n  var getData = function getData() {\n    var _data = [{\n      id: '1',\n      userId: \"wh10000\",\n      name: '胡彦斌',\n      idCard: '520000',\n      start: '2020-04-10',\n      status: '在职',\n      salary: '¥2000.00'\n    }, {\n      id: '2',\n      userId: \"wh10000\",\n      name: '胡彦斌',\n      idCard: '51000000000000000',\n      start: '2020-04-10',\n      status: '在职',\n      salary: '¥2000.00'\n    }, {\n      id: '3',\n      userId: \"wh10000\",\n      name: '胡彦斌',\n      idCard: '51000000000000000',\n      start: '2020-04-10',\n      status: '在职',\n      salary: '¥2000.00'\n    }, {\n      id: '4',\n      userId: \"wh10000\",\n      name: '胡彦斌',\n      idCard: '51000000000000000',\n      start: '2020-04-10',\n      status: '在职',\n      salary: '¥2000.00'\n    }, {\n      id: '5',\n      userId: \"wh10000\",\n      name: '胡彦斌',\n      idCard: '51000000000000000',\n      start: '2020-04-10',\n      status: '在职',\n      salary: '¥2000.00'\n    }];\n    setData(_data);\n    setLoading(false); // api\n    //   .getStoreServiceList({\n    //     pageNo: pageRef.current.current,\n    //     pageSize: pageRef.current.pageSize,\n    //     orderField: sortRef.current.field,\n    //     orderType: sortRef.current.order,\n    //     serviceName: keyword,\n    //   })\n    //   .then((res) => {\n    //     if (res.data.code === 200) {\n    //       pageRef.current = {\n    //         total: res.data.data.total,\n    //         pageSize: res.data.data.size,\n    //         current: res.data.data.current,\n    //       };\n    //       setData(res.data.data.records);\n    //     }\n    //     setLoading(false);\n    //   });\n  };\n\n  var toDownload = function toDownload(data) {\n    setDownloading(true);\n    console.log(\"下载\");\n  };\n\n  var handleTableChange = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref, b, sortedInfo) {\n      var current, pageSize;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              current = _ref.current, pageSize = _ref.pageSize;\n\n              // console.log(current, pageSize, sortedInfo)\n              if (current && pageSize) {\n                pageRef.current = _objectSpread({}, pageRef.current, {\n                  pageSize: pageSize,\n                  current: current\n                });\n              }\n\n              if (sortedInfo) {\n                sortRef.current = {\n                  order: sortDic[sortedInfo.order],\n                  field: sortedInfo.field\n                };\n              }\n\n              getData();\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleTableChange(_x, _x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleSearchChange = function handleSearchChange(data) {\n    setKeyword(data);\n    pageRef.current = _objectSpread({}, pageRef.current, {\n      current: 1\n    });\n  };\n\n  var toEdit = function toEdit(data) {};\n\n  var toCreate = function toCreate(data) {};\n\n  var toDelete = function toDelete(data) {};\n\n  var columns = getColumns(sortRef.current, downloading, {\n    toEdit: toEdit,\n    toCreate: toCreate,\n    toDelete: toDelete\n  });\n  var customPagination = {\n    className: \"customPagination\",\n    total: pageRef.current.total,\n    showTotal: function showTotal(total) {\n      return \"\\u5171 \".concat(total, \" \\u6761\");\n    },\n    pageSize: pageRef.current.pageSize,\n    current: pageRef.current.current,\n    onChange: handleTableChange,\n    showSizeChanger: true,\n    onShowSizeChange: handleTableChange\n  };\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"EmployeeBox\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pageContent\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"tit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, \"\\u5458\\u5DE5\\u5217\\u8868\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBox\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    size: \"small\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u5173\\u952E\\u5B57\",\n    allowClear: true,\n    onChange: function onChange(e) {\n      return handleSearchChange(e.target.value);\n    },\n    onSearch: function onSearch() {\n      return getData();\n    },\n    style: {\n      width: 240\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Table, {\n    onChange: handleTableChange,\n    pagination: customPagination,\n    columns: columns,\n    dataSource: data,\n    loading: loading,\n    rowKey: function rowKey(record, index) {\n      return record.id;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default React.memo(Employee);\n\nvar getColumns = function getColumns(sortedInfo, actions) {\n  return [{\n    title: '序号',\n    dataIndex: 'id',\n    key: 'id'\n  }, {\n    title: '账号',\n    dataIndex: 'userId',\n    key: 'userId',\n    sorter: true,\n    sortOrder: sortedInfo.columnKey === 'userId' && sortedInfo.order\n  }, {\n    title: '姓名',\n    dataIndex: 'name',\n    key: 'name',\n    sorter: true,\n    sortOrder: sortedInfo.columnKey === 'name' && sortedInfo.order\n  }, {\n    title: '身份证',\n    dataIndex: 'idCard',\n    key: 'idCard'\n  }, {\n    title: '入职时间',\n    dataIndex: 'start',\n    key: 'start'\n  }, {\n    title: '状态',\n    dataIndex: 'status',\n    key: 'status'\n  }, {\n    title: '工资',\n    dataIndex: 'salary',\n    key: 'salary'\n  }, {\n    title: '操作',\n    render: function render(record, text, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"optIconGroup\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(_Popconfirm, {\n        placement: \"left\",\n        title: \"\\u5458\\u5DE5\\uFF1A\".concat(record.name, \"\\n\\u8BF7\\u786E\\u8BA4\\u662F\\u5426\\u5220\\u9664\\uFF1F\"),\n        onConfirm: function onConfirm() {\n          return actions.toDelete(record, index);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: \"\\u5220\\u9664\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(_Tooltip, {\n        title: \"\\u7F16\\u8F91\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(EditOutlined, {\n        onClick: function onClick() {\n          return actions.toEdit(record);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(_Tooltip, {\n        title: \"\\u65B0\\u589E\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(PlusOutlined, {\n        onClick: function onClick() {\n          return actions.toCreate(record);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 27\n        }\n      })));\n    }\n  }];\n};","map":{"version":3,"sources":["/Users/admin/Workspace/wanhao-management/web/src/views/info/employee/index.js"],"names":["React","useState","useEffect","useRef","SearchOutlined","DeleteOutlined","EditOutlined","EyeOutlined","PlusOutlined","api","Search","Employee","props","pageRef","total","pageSize","current","sortRef","order","field","columnKey","data","setData","loading","setLoading","keyword","setKeyword","downloading","setDownloading","sortDic","descend","ascend","getData","_data","id","userId","name","idCard","start","status","salary","toDownload","console","log","handleTableChange","b","sortedInfo","handleSearchChange","toEdit","toCreate","toDelete","columns","getColumns","customPagination","className","showTotal","onChange","showSizeChanger","onShowSizeChange","e","target","value","width","record","index","memo","actions","title","dataIndex","key","sorter","sortOrder","render","text"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Table, Popconfirm, Tooltip, message, Input, Progress } from \"antd\";\nimport {\n  SearchOutlined,\n  DeleteOutlined,\n  EditOutlined,\n  EyeOutlined,\n  PlusOutlined,\n} from \"@ant-design/icons\";\nimport \"./index.less\";\nimport api from \"api\";\nconst { Search } = Input;\nconst Employee = (props) => {\n  const pageRef = useRef({\n    total: 0,\n    pageSize: 10,\n    current: 1,\n  });\n  const sortRef = useRef({\n    order: \"desc\",\n    field: \"id\",\n    columnKey: \"id\",\n  });\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState({});\n  const [keyword, setKeyword] = useState();\n  const [downloading, setDownloading] = useState(false);\n  const sortDic = {\n    descend: \"desc\",\n    ascend: \"asc\",\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n  const getData = () => {\n    let _data = [\n        {\n            id: '1',\n            userId: \"wh10000\",\n            name: '胡彦斌',\n            idCard: '520000',\n            start: '2020-04-10',\n            status: '在职',\n            salary: '¥2000.00',\n        },\n        {\n            id: '2',\n            userId: \"wh10000\",\n            name: '胡彦斌',\n            idCard: '51000000000000000',\n            start: '2020-04-10',\n            status: '在职',\n            salary: '¥2000.00',\n        },\n        {\n            id: '3',\n            userId: \"wh10000\",\n            name: '胡彦斌',\n            idCard: '51000000000000000',\n            start: '2020-04-10',\n            status: '在职',\n            salary: '¥2000.00',\n        },\n        {\n            id: '4',\n            userId: \"wh10000\",\n            name: '胡彦斌',\n            idCard: '51000000000000000',\n            start: '2020-04-10',\n            status: '在职',\n            salary: '¥2000.00',\n        },\n        {\n            id: '5',\n            userId: \"wh10000\",\n            name: '胡彦斌',\n            idCard: '51000000000000000',\n            start: '2020-04-10',\n            status: '在职',\n            salary: '¥2000.00',\n        },\n\n    ]\n    setData(_data)\n    setLoading(false);\n    // api\n    //   .getStoreServiceList({\n    //     pageNo: pageRef.current.current,\n    //     pageSize: pageRef.current.pageSize,\n    //     orderField: sortRef.current.field,\n    //     orderType: sortRef.current.order,\n    //     serviceName: keyword,\n    //   })\n    //   .then((res) => {\n    //     if (res.data.code === 200) {\n    //       pageRef.current = {\n    //         total: res.data.data.total,\n    //         pageSize: res.data.data.size,\n    //         current: res.data.data.current,\n    //       };\n    //       setData(res.data.data.records);\n    //     }\n    //     setLoading(false);\n    //   });\n  };\n  const toDownload = (data) => {\n    setDownloading(true);\n    console.log(\"下载\");\n  };\n  const handleTableChange = async ({ current, pageSize }, b, sortedInfo) => {\n    // console.log(current, pageSize, sortedInfo)\n    if (current && pageSize) {\n      pageRef.current = {\n        ...pageRef.current,\n        pageSize: pageSize,\n        current: current,\n      };\n    }\n    if (sortedInfo) {\n      sortRef.current = {\n        order: sortDic[sortedInfo.order],\n        field: sortedInfo.field,\n      };\n    }\n    getData();\n  };\n  const handleSearchChange = (data) => {\n    setKeyword(data);\n    pageRef.current = {\n      ...pageRef.current,\n      current: 1,\n    };\n  };\n  const toEdit = (data) => {};\n\n  const toCreate = (data) => {};\n  const toDelete = (data) => {};\n  const columns = getColumns(sortRef.current, downloading, {\n    toEdit: toEdit,\n    toCreate: toCreate,\n    toDelete: toDelete,\n  });\n  const customPagination = {\n    className: \"customPagination\",\n    total: pageRef.current.total,\n    showTotal: (total) => `共 ${total} 条`,\n    pageSize: pageRef.current.pageSize,\n    current: pageRef.current.current,\n    onChange: handleTableChange,\n    showSizeChanger: true,\n    onShowSizeChange: handleTableChange,\n  };\n  return (\n    <section className=\"EmployeeBox\">\n      <div className=\"pageContent\">\n        <div className=\"title\">\n          <span className=\"tit\">员工列表</span>\n          <div className=\"searchBox\">\n            <Search\n              size=\"small\"\n              placeholder=\"请输入搜索关键字\"\n              allowClear\n              onChange={(e) => handleSearchChange(e.target.value)}\n              onSearch={() => getData()}\n              style={{ width: 240 }}\n            />\n          </div>\n        </div>\n        <div>\n          <Table\n            onChange={handleTableChange}\n            pagination={customPagination}\n            columns={columns}\n            dataSource={data}\n            loading={loading}\n            rowKey={(record, index) => record.id}\n          ></Table>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default React.memo(Employee);\nconst getColumns = (sortedInfo,actions) => {\n    return (\n        [\n            {\n                title: '序号',\n                dataIndex: 'id',\n                key: 'id',\n            },\n            {\n                title: '账号',\n                dataIndex: 'userId',\n                key: 'userId',\n                sorter: true,\n                sortOrder: sortedInfo.columnKey === 'userId' && sortedInfo.order,\n            },\n            {\n                title: '姓名',\n                dataIndex: 'name',\n                key: 'name',\n                sorter: true,\n                sortOrder: sortedInfo.columnKey === 'name' && sortedInfo.order,\n            },\n            {\n                title: '身份证',\n                dataIndex: 'idCard',\n                key: 'idCard',\n            },\n            {\n                title: '入职时间',\n                dataIndex: 'start',\n                key: 'start',\n            },\n            {\n                title: '状态',\n                dataIndex: 'status',\n                key: 'status',\n            },\n            {\n                title: '工资',\n                dataIndex: 'salary',\n                key: 'salary',\n            },\n            {\n                title: '操作',\n                render: (record, text,index) => {\n                    return (\n                        <div className=\"optIconGroup\">\n                        <Popconfirm\n                          placement=\"left\"\n                          title={`员工：${record.name}\\n请确认是否删除？`}\n                          onConfirm={() => actions.toDelete(record, index)}\n                        >\n                          <Tooltip title=\"删除\">\n                            <DeleteOutlined />\n                          </Tooltip>\n                        </Popconfirm>\n                        <Tooltip title=\"编辑\">\n                          <EditOutlined onClick={() => actions.toEdit(record)} />\n                        </Tooltip>\n                        <Tooltip title=\"新增\">\n                          <PlusOutlined onClick={() => actions.toCreate(record)} />\n                        </Tooltip>\n                      </div>\n                        \n                    )\n                }\n            }\n        ]\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}